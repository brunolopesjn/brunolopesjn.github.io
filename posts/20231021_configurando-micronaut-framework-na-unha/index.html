<!doctype html><html lang=pt-br><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Configurando Micronaut Framework na Unha - Blog do Prof</title><meta name=Description content="Kotlin, Golang e outras coisas que achar interessantes!"><meta property="og:title" content="Configurando Micronaut Framework na Unha"><meta property="og:description" content="O Micronaut é um framework full stack Java moderno, baseado na JVM e projetado para construir aplicações JVM modulares e que sejam facilmente testáveis. O framework fornece suporte para as linguagens de programação Java, Kotlin e Groovy.
Foi desenvolvido pelas mesmas pessoas que criaram o Grails framework e se inspira em lições aprendidas ao longo dos anos construindo aplicativos do mundo real, de monólitos a microsserviços usando Spring, Spring Boot e Grails."><meta property="og:type" content="article"><meta property="og:url" content="http://brunolopesjn.dev.br/posts/20231021_configurando-micronaut-framework-na-unha/"><meta property="og:image" content="http://brunolopesjn.dev.br/img/bruno.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-10-21T22:54:21-03:00"><meta property="article:modified_time" content="2023-10-21T22:54:21-03:00"><meta property="og:site_name" content="Blog do Prof"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://brunolopesjn.dev.br/img/bruno.png"><meta name=twitter:title content="Configurando Micronaut Framework na Unha"><meta name=twitter:description content="O Micronaut é um framework full stack Java moderno, baseado na JVM e projetado para construir aplicações JVM modulares e que sejam facilmente testáveis. O framework fornece suporte para as linguagens de programação Java, Kotlin e Groovy.
Foi desenvolvido pelas mesmas pessoas que criaram o Grails framework e se inspira em lições aprendidas ao longo dos anos construindo aplicativos do mundo real, de monólitos a microsserviços usando Spring, Spring Boot e Grails."><meta name=application-name content="Blog do Prof"><meta name=apple-mobile-web-app-title content="Blog do Prof"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://brunolopesjn.dev.br/posts/20231021_configurando-micronaut-framework-na-unha/><link rel=stylesheet href=/css/style.min.cf6878db51c51b2d04ae155284a4403dbee8db33e16c066f954c95279c271fcd.css integrity="sha256-z2h421HFGy0ErhVShKRAPb7o2zPhbAZvlUyVJ5wnH80="><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Configurando Micronaut Framework na Unha","inLanguage":"pt-br","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/brunolopesjn.dev.br\/posts\/20231021_configurando-micronaut-framework-na-unha\/"},"genre":"posts","keywords":"Kotlin, Micronaut","wordcount":1918,"url":"http:\/\/brunolopesjn.dev.br\/posts\/20231021_configurando-micronaut-framework-na-unha\/","datePublished":"2023-10-21T22:54:21-03:00","dateModified":"2023-10-21T22:54:21-03:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Bruno Lopes"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Blog do Prof">Blog do Prof</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Postagens </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categorias </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Trocar tema">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Blog do Prof">Blog do Prof</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>Postagens</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categorias</a><a href=javascript:void(0); class="menu-item theme-switch" title="Trocar tema">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Conteúdos</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Configurando Micronaut Framework na Unha</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Bruno Lopes</a></span>&nbsp;<span class=post-category>incluido em <a href=/categories/kotlin/><i class="far fa-folder fa-fw" aria-hidden=true></i>Kotlin</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=21/10/2023>21/10/2023</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;1918 palavras&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;10 minutos&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/img/20231021-configurando-micronaut-framework-na-unha.svg data-srcset="/img/20231021-configurando-micronaut-framework-na-unha.svg, /img/20231021-configurando-micronaut-framework-na-unha.svg 1.5x, /img/20231021-configurando-micronaut-framework-na-unha.svg 2x" data-sizes=auto alt=/img/20231021-configurando-micronaut-framework-na-unha.svg title=/img/20231021-configurando-micronaut-framework-na-unha.svg></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Conteúdos</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static></div></div><div class=content id=content><div class=paragraph><p>O <em>Micronaut</em> é um <em>framework full stack Java</em> moderno, baseado na JVM e projetado para construir aplicações JVM modulares e que sejam facilmente testáveis. O <em>framework</em> fornece suporte para as linguagens de programação <strong>Java</strong>, <strong>Kotlin</strong> e <strong>Groovy</strong>.</p></div><div class=paragraph><p>Foi desenvolvido pelas mesmas pessoas que criaram o <em>Grails framework</em> e se inspira em lições aprendidas ao longo dos anos construindo aplicativos do mundo real, de monólitos a microsserviços usando Spring, Spring Boot e Grails.</p></div><div class=paragraph><p>O <em>Micronaut</em> oferece, por padrão, duas formas de criar uma aplicação:</p></div><div class=ulist><ul><li><p>Através de uma <a href=https://docs.micronaut.io/latest/guide/#buildCLI>ferramenta de CLI</a></p></li><li><p>Através de uma ferramenta online de criação de projetos, chamada de <a href=https://micronaut.io/launch/><em>Micronaut Launch</em></a></p></li></ul></div><div class=paragraph><p>Particularmente não gosto da forma como uma aplicação <em>Micronaut</em> é criada por essas ferramentas pois os arquivos de configuração <em>gradle</em> são complexos (várias ferramentas e bibliotecas configuradas) e pouco documentado (gosto de ter o controle do que está sendo configurado e porque). Prefiro criar um projeto Kotlin do zero e configurar manualmente o necessário para o <em>Micronaut</em> funcionar.</p></div><div class=paragraph><p>Deste modo, o objetivo desta postagem é justamente descrever como configurar o <em>Micronaut</em> a partir de um projeto <em>Kotlin</em> criado do zero via <em>IntelliJ IDEA Community Edition</em>.</p></div><div class=sect1><h2 id=_criando_o_projeto_kotlin>Criando o Projeto Kotlin</h2><div class=sectionbody><div class=paragraph><p>Partindo da premissa que você já possua o <em>OpenJDK</em> e o <em>IntelliJ IDEA Community Edition</em> devidamente configurados, abra o <em>IntelliJ</em> e na tela principal clique no botão <strong>New Project</strong></p></div><div class=imageblock><div class=content><img src=/img/configurando-micronaut-na-unha-01.png alt="Tela inicial do IntelliJ com um retângulo transparente e com bordas na cor vermelha sobre o botão New Project"></div></div><div class=paragraph><p>Após clicar no botão <strong>New Project</strong>, será exibida uma janela para preencher um formulário com os dados no novo projeto. Os seguintes valores foram utilizados:</p></div><div class=ulist><ul><li><p>O campo <em>Name</em> foi preenchido com o valor <strong>sample</strong></p></li><li><p>No campo <em>Language</em> foi selecionado a opção <strong>Kotlin</strong></p></li><li><p>No campo <em>Build System</em> foi selecionado a opção <strong>Gradle</strong></p></li><li><p>No campo <em>JDK</em> selecione a versão do JDK a ser utilizada (nesta postagem foi utilizado o <em>OpenJDK 17</em>)</p></li><li><p>No campo <em>Gradle DSL</em> foi selecionado a opção <strong>Kotlin</strong></p></li><li><p>Em <em>Advanced Settings</em> foi preenchido da seguinte maneira:</p><div class=ulist><ul><li><p>O campo <em>GroupId</em> foi preenchido com o valor <strong>br.dev.profbrunolopes</strong> (ajuste esse valor conforme o domínio reverso utilizado em suas aplicações)</p></li><li><p>O campo <em>ArtifactId</em> foi preenchido com o valor <strong>sample</strong> (geralmente utiliza-se o mesmo valor utilizado no campo <em>Name</em>)</p></li></ul></div></li></ul></div><div class=paragraph><p>A imagem abaixo exibe os campos do formulário de criação de um projeto configurado conforme descrito anteriormente.</p></div><div class=imageblock><div class=content><img src=/img/configurando-micronaut-na-unha-02.png alt="Tela de criação de um novo projeto no IntelliJ a qual apresenta um formulário com campos de texto e de seleção os quais foram preenchidos com os valores apresentados na listagem acima"></div></div><div class=paragraph><p>Após preencher o formulário com os devidos valores, clique no botão <strong>Create</strong> (canto inferior direito) e um projeto <em>Kotlin</em> com <em>Gradle</em> será criado.</p></div><div class=paragraph><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fas fa-info-circle fa-fw" aria-hidden=true></i>Ferramentas utilizados<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><div class=paragraph><p>Foram utilizados as seguintes ferramentas durante a escrita desta postagem:</p></div><div class=ulist><ul><li><p>IntelliJ IDEA Community Edition 2023.1.4</p></li><li><p>OpenJDK 17</p></li><li><p>Kotlin 1.9.10</p></li><li><p>Gradle 8.3</p></li><li><p>Micronaut 4.1.5</p></li></ul></div></div></div></div></div></div></div><div class=sect1><h2 id=_configurando_o_gradle>Configurando o Gradle</h2><div class=sectionbody><div class=paragraph><p>Com o projeto devidamente criado, vamos configurar o <em>Gradle</em> editando primeiramente o arquivo <code>build.gradle.kts</code> com o conteúdo a seguir:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=kotlin><span class=nf>plugins</span> <span class=p>{</span>
    <span class=nf>kotlin</span><span class=p>(</span><span class=s>&#34;jvm&#34;</span><span class=p>)</span> <span class=n>version</span> <span class=s>&#34;1.9.10&#34;</span>
    <span class=nf>id</span><span class=p>(</span><span class=s>&#34;io.micronaut.application&#34;</span><span class=p>)</span> <span class=n>version</span> <span class=s>&#34;4.1.2&#34;</span>
    <span class=nf>id</span><span class=p>(</span><span class=s>&#34;io.micronaut.aot&#34;</span><span class=p>)</span> <span class=n>version</span> <span class=s>&#34;4.1.2&#34;</span>
    <span class=nf>id</span><span class=p>(</span><span class=s>&#34;com.google.devtools.ksp&#34;</span><span class=p>)</span> <span class=n>version</span> <span class=s>&#34;1.9.10-1.0.13&#34;</span>
    <span class=nf>id</span><span class=p>(</span><span class=s>&#34;org.jetbrains.kotlin.plugin.allopen&#34;</span><span class=p>)</span> <span class=n>version</span> <span class=s>&#34;1.9.10&#34;</span>
<span class=p>}</span>

<span class=n>group</span> <span class=p>=</span> <span class=s>&#34;br.dev.profbrunolopes&#34;</span>
<span class=n>version</span> <span class=p>=</span> <span class=s>&#34;1.0-SNAPSHOT&#34;</span>

<span class=nf>repositories</span> <span class=p>{</span>
    <span class=nf>mavenCentral</span><span class=p>()</span>
<span class=p>}</span>

<span class=nf>dependencies</span> <span class=p>{</span>
    <span class=nf>ksp</span><span class=p>(</span><span class=s>&#34;io.micronaut.serde:micronaut-serde-processor&#34;</span><span class=p>)</span>
    <span class=nf>ksp</span><span class=p>(</span><span class=s>&#34;io.micronaut.data:micronaut-data-processor&#34;</span><span class=p>)</span>

    <span class=nf>implementation</span><span class=p>(</span><span class=s>&#34;io.micronaut.kotlin:micronaut-kotlin-runtime&#34;</span><span class=p>)</span>
    <span class=nf>implementation</span><span class=p>(</span><span class=s>&#34;io.micronaut.serde:micronaut-serde-jackson&#34;</span><span class=p>)</span>
    <span class=nf>implementation</span><span class=p>(</span><span class=s>&#34;org.jetbrains.kotlin:kotlin-reflect:1.9.10&#34;</span><span class=p>)</span>
    <span class=nf>implementation</span><span class=p>(</span><span class=s>&#34;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.9.10&#34;</span><span class=p>)</span>

    <span class=nf>runtimeOnly</span><span class=p>(</span><span class=s>&#34;ch.qos.logback:logback-classic&#34;</span><span class=p>)</span>
    <span class=nf>runtimeOnly</span><span class=p>(</span><span class=s>&#34;com.fasterxml.jackson.module:jackson-module-kotlin&#34;</span><span class=p>)</span>
    <span class=nf>testImplementation</span><span class=p>(</span><span class=s>&#34;io.micronaut:micronaut-http-client&#34;</span><span class=p>)</span>
<span class=p>}</span>

<span class=nf>tasks</span> <span class=p>{</span>
    <span class=nf>compileKotlin</span> <span class=p>{</span>
        <span class=nf>compilerOptions</span> <span class=p>{</span>
            <span class=n>jvmTarget</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=n>org</span><span class=p>.</span><span class=n>jetbrains</span><span class=p>.</span><span class=n>kotlin</span><span class=p>.</span><span class=n>gradle</span><span class=p>.</span><span class=n>dsl</span><span class=p>.</span><span class=nc>JvmTarget</span><span class=p>.</span><span class=nc>JVM_17</span><span class=p>)</span>
        <span class=p>}</span>
    <span class=p>}</span>
    <span class=nf>compileTestKotlin</span> <span class=p>{</span>
        <span class=nf>compilerOptions</span> <span class=p>{</span>
            <span class=n>jvmTarget</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=n>org</span><span class=p>.</span><span class=n>jetbrains</span><span class=p>.</span><span class=n>kotlin</span><span class=p>.</span><span class=n>gradle</span><span class=p>.</span><span class=n>dsl</span><span class=p>.</span><span class=nc>JvmTarget</span><span class=p>.</span><span class=nc>JVM_17</span><span class=p>)</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=nf>application</span> <span class=p>{</span>
    <span class=n>mainClass</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=s>&#34;br.dev.profbrunolopes.sample.MainKt&#34;</span><span class=p>)</span>
<span class=p>}</span>

<span class=nf>java</span> <span class=p>{</span>
    <span class=n>sourceCompatibility</span> <span class=p>=</span> <span class=nc>JavaVersion</span><span class=p>.</span><span class=nf>toVersion</span><span class=p>(</span><span class=s>&#34;17&#34;</span><span class=p>)</span>
<span class=p>}</span>

<span class=nf>micronaut</span> <span class=p>{</span>
    <span class=nf>version</span><span class=p>(</span><span class=s>&#34;4.1.2&#34;</span><span class=p>)</span>
    <span class=nf>runtime</span><span class=p>(</span><span class=s>&#34;netty&#34;</span><span class=p>)</span>
    <span class=nf>testRuntime</span><span class=p>(</span><span class=s>&#34;kotest5&#34;</span><span class=p>)</span>
    <span class=nf>processing</span> <span class=p>{</span>
        <span class=nf>incremental</span><span class=p>(</span><span class=k>true</span><span class=p>)</span>
        <span class=nf>annotations</span><span class=p>(</span><span class=s>&#34;br.dev.profbrunolopes.sample*&#34;</span><span class=p>)</span>
    <span class=p>}</span>
    <span class=nf>aot</span> <span class=p>{</span>
        <span class=n>optimizeServiceLoading</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=k>false</span><span class=p>)</span>
        <span class=n>convertYamlToJava</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=k>false</span><span class=p>)</span>
        <span class=n>precomputeOperations</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=k>true</span><span class=p>)</span>
        <span class=n>cacheEnvironment</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=k>true</span><span class=p>)</span>
        <span class=n>optimizeClassLoading</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=k>true</span><span class=p>)</span>
        <span class=n>deduceEnvironment</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=k>true</span><span class=p>)</span>
        <span class=n>optimizeNetty</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=k>true</span><span class=p>)</span>
    <span class=p>}</span>
<span class=p>}</span></code></pre></div></div><div class=paragraph><p>Para facilitar a explicação do conteúdo do arquivo <code>build.gradle.kts</code> irei dividi-lo em seis blocos e explica-los de forma individual.</p></div><div class=sect2><h3 id=_bloco_1_seção_plugins>Bloco 1 - Seção Plugins</h3><div class=paragraph><p>O primeiro bloco do <code>build.gradle.kts</code> temos a seção de <em>plugins</em> configurados no <em>Gradle</em>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=kotlin><span class=nf>plugins</span> <span class=p>{</span>
    <span class=nf>id</span><span class=p>(</span><span class=s>&#34;org.jetbrains.kotlin.jvm&#34;</span><span class=p>)</span> <span class=n>version</span> <span class=s>&#34;1.9.10&#34;</span> <b class=conum>(1)</b>
    <span class=nf>id</span><span class=p>(</span><span class=s>&#34;io.micronaut.application&#34;</span><span class=p>)</span> <span class=n>version</span> <span class=s>&#34;4.1.2&#34;</span> <b class=conum>(2)</b>
    <span class=nf>id</span><span class=p>(</span><span class=s>&#34;io.micronaut.aot&#34;</span><span class=p>)</span> <span class=n>version</span> <span class=s>&#34;4.1.2&#34;</span> <b class=conum>(3)</b>
    <span class=nf>id</span><span class=p>(</span><span class=s>&#34;com.google.devtools.ksp&#34;</span><span class=p>)</span> <span class=n>version</span> <span class=s>&#34;1.9.10-1.0.13&#34;</span> <b class=conum>(4)</b>
    <span class=nf>id</span><span class=p>(</span><span class=s>&#34;org.jetbrains.kotlin.plugin.allopen&#34;</span><span class=p>)</span> <span class=n>version</span> <span class=s>&#34;1.9.10&#34;</span> <b class=conum>(5)</b>
    <span class=nf>id</span><span class=p>(</span><span class=s>&#34;com.github.johnrengelman.shadow&#34;</span><span class=p>)</span> <span class=n>version</span> <span class=s>&#34;8.1.1&#34;</span> <b class=conum>(6)</b>
<span class=p>}</span></code></pre></div></div><div class="colist arabic"><ol><li><p><em>Plugin</em> do <em>Kotlin</em> para JVM o qual define qual versão do <em>Kotlin</em> será utilizada no projeto.</p></li><li><p><em>Plugin</em> de construção de aplicativos <em>Micronaut</em>.</p></li><li><p><em>Plugin</em> que integra com o <em>Micronaut AOT</em> para produzir binários otimizados.</p></li><li><p><em>Plugin</em> que habilita o uso do <em>Kotlin Symbol Processing</em> (KSP) no projeto.</p></li><li><p><em>Plugin</em> que marca certas classes e membros de classes como <code>open</code>.</p></li><li><p><em>Plugin</em> que facilita a construção do arquivo <strong>JAR</strong> final do projeto.</p></li></ol></div></div><div class=sect2><h3 id=_bloco_2_groupid_artifactid_e_repositórios>Bloco 2 - GroupId, ArtifactId e Repositórios</h3><div class=paragraph><p>O segundo bloco do <code>build.gradle.kts</code> temos as propriedades <em>group</em> e <em>version</em> e o bloco <em>repositories</em>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=kotlin><span class=n>group</span> <span class=p>=</span> <span class=s>&#34;br.dev.profbrunolopes&#34;</span> <b class=conum>(1)</b>
<span class=n>version</span> <span class=p>=</span> <span class=s>&#34;1.0-SNAPSHOT&#34;</span> <b class=conum>(2)</b>

<span class=nf>repositories</span> <span class=p>{</span>
    <span class=nf>mavenCentral</span><span class=p>()</span> <b class=conum>(3)</b>
<span class=p>}</span></code></pre></div></div><div class="colist arabic"><ol><li><p>Definindo a propriedade <em>group</em> do projeto com0 <code>br.dev.profbrunolopes</code>.</p></li><li><p>Definindo a propriedade <em>version</em> do projeto como <code>1.0-SNAPSHOT</code>.</p></li><li><p>Define o repositório <em>Maven Central</em> para a busca de dependências do projeto.</p></li></ol></div><div class=paragraph><div class="details admonition question open"><div class="details-summary admonition-title"><i class="icon fas fa-question-circle fa-fw" aria-hidden=true></i>O que significa SNAPSHOT na definição da versão?<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><div class=paragraph><p>Quando é definido a versão do projeto como, por exemplo <code>1.0-SNAPSHOT</code> é uma convenção de nomenclatura comum para indicar que esta versão é uma versão em desenvolvimento (e não uma versão estável) de um projeto.</p></div><div class=paragraph><p>A palavra <code>SNAPSHOT</code> indica que a versão ainda está no fluxo de desenvolvimento e pode receber atualizações. Quando estiver pronto para lançar uma versão estável, geralmente removerá o sufixo <code>-SNAPSHOT</code> e poderá incrementar a versão, dependendo da sua estratégia de versionamento.</p></div></div></div></div></div></div><div class=sect2><h3 id=_bloco_3_dependências>Bloco 3 - Dependências</h3><div class=paragraph><p>O terceiro bloco do <code>build.gradle.kts</code> temos a seção <em>dependencies</em> onde estão definidas as dependências do projeto:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=kotlin><span class=nf>dependencies</span> <span class=p>{</span>
    <span class=nf>ksp</span><span class=p>(</span><span class=s>&#34;io.micronaut.serde:micronaut-serde-processor&#34;</span><span class=p>)</span> <b class=conum>(1)</b>
    <span class=nf>ksp</span><span class=p>(</span><span class=s>&#34;io.micronaut.data:micronaut-data-processor&#34;</span><span class=p>)</span><b class=conum>(2)</b>

    <span class=nf>implementation</span><span class=p>(</span><span class=s>&#34;io.micronaut.kotlin:micronaut-kotlin-runtime&#34;</span><span class=p>)</span> <b class=conum>(3)</b>
    <span class=nf>implementation</span><span class=p>(</span><span class=s>&#34;io.micronaut.serde:micronaut-serde-jackson&#34;</span><span class=p>)</span> <b class=conum>(4)</b>
    <span class=nf>implementation</span><span class=p>(</span><span class=s>&#34;org.jetbrains.kotlin:kotlin-reflect:1.9.10&#34;</span><span class=p>)</span> <b class=conum>(5)</b>

    <span class=nf>runtimeOnly</span><span class=p>(</span><span class=s>&#34;ch.qos.logback:logback-classic&#34;</span><span class=p>)</span> <b class=conum>(6)</b>
    <span class=nf>runtimeOnly</span><span class=p>(</span><span class=s>&#34;com.fasterxml.jackson.module:jackson-module-kotlin&#34;</span><span class=p>)</span> <b class=conum>(7)</b>
    <span class=nf>testImplementation</span><span class=p>(</span><span class=s>&#34;io.micronaut:micronaut-http-client&#34;</span><span class=p>)</span> <b class=conum>(8)</b>
<span class=p>}</span></code></pre></div></div><div class="colist arabic"><ol><li><p>Dependência do processador de símbolos <em>Kotlin</em> (KSP) para o módulo <code>micronaut-serde-processor</code> do <em>Micronaut</em>. Este processador em particular é para serialização e deserialização no <em>Micronaut</em>.</p></li><li><p>Dependência do processador de símbolos <em>Kotlin</em> (KSP) para o módulo <code>micronaut-data-processor</code> do <em>Micronaut</em>. Este processador é utilizado para processar anotações relacionadas ao <em>Micronaut</em> Data, que é a camada de acesso a dados do <em>Micronaut</em>.</p></li><li><p>Esta dependência fornece funcionalidades essenciais para executar aplicações <em>Micronaut</em> escritas em Kotlin.</p></li><li><p>Implementação do módulo de serialização e deserialização baseado no <em>Jackson</em> para <em>Micronaut</em>. <em>Jackson</em> é uma biblioteca popular para serialização e deserialização em <em>Java</em> e <em>Kotlin</em>.</p></li><li><p>Biblioteca de reflexão do <em>Kotlin</em> ao projeto, permitindo o uso de funcionalidades de reflexão específicas do <em>Kotlin</em>.</p></li><li><p>Biblioteca de <em>logging</em> popular. Esta dependência é necessária apenas em tempo de execução.</p></li><li><p>Este é um módulo <em>Jackson</em> para suporte a <em>Kotlin</em>, permitindo que o <em>Jackson</em> funcione bem com classes <em>Kotlin</em>, incluindo classes de dados. Assim como o <em>Logback</em>, é necessário apenas em tempo de execução.</p></li><li><p>Adiciona o cliente <em>HTTP</em> do Micronaut como uma dependência de teste. Isso significa que essa biblioteca só será utilizada durante a fase de teste e não será incluída no artefato final da aplicação.</p></li></ol></div></div><div class=sect2><h3 id=_bloco_4_tarefas>Bloco 4 - Tarefas</h3><div class=paragraph><p>O quarto bloco do <code>build.gradle.kts</code> temos a seção <em>tasks</em> onde são definidas ou configuradas tarefas dentro do <em>Gradle</em>. Tarefas são ações executadas pelo <em>Gradle</em> como, por exemplo, compilar código, executar testes ou criar artefatos:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=kotlin><span class=nf>tasks</span> <span class=p>{</span>
    <span class=nf>compileKotlin</span> <span class=p>{</span>
        <span class=nf>compilerOptions</span> <span class=p>{</span>
            <span class=n>jvmTarget</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=n>org</span><span class=p>.</span><span class=n>jetbrains</span><span class=p>.</span><span class=n>kotlin</span><span class=p>.</span><span class=n>gradle</span><span class=p>.</span><span class=n>dsl</span><span class=p>.</span><span class=nc>JvmTarget</span><span class=p>.</span><span class=nc>JVM_17</span><span class=p>)</span> <b class=conum>(1)</b>
        <span class=p>}</span>
    <span class=p>}</span>
    <span class=nf>compileTestKotlin</span> <span class=p>{</span>
        <span class=nf>compilerOptions</span> <span class=p>{</span>
            <span class=n>jvmTarget</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=n>org</span><span class=p>.</span><span class=n>jetbrains</span><span class=p>.</span><span class=n>kotlin</span><span class=p>.</span><span class=n>gradle</span><span class=p>.</span><span class=n>dsl</span><span class=p>.</span><span class=nc>JvmTarget</span><span class=p>.</span><span class=nc>JVM_17</span><span class=p>)</span> <b class=conum>(2)</b>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span></code></pre></div></div><div class="colist arabic"><ol><li><p>Aqui, você está especificando opções para o compilador <em>Kotlin</em>, definindo para qual versão da <em>JVM</em> o código <em>Kotlin</em> compilado será compilado. Em particular, está sendo definido como alvo a versão <strong>17</strong> da <em>JVM</em>.</p></li><li><p>Similar ao <code>compileKotlin</code>, mas este bloco se refere à compilação do código <em>Kotlin</em> dentro do diretório de testes do seu projeto. Está sendo aplicado as mesmas opções de compilador que definiu para o código <em>Kotlin</em> principal.</p></li></ol></div></div><div class=sect2><h3 id=_bloco_5_aplicação_e_java>Bloco 5 - Aplicação e Java</h3><div class=paragraph><p>O quinto bloco do <code>build.gradle.kts</code> temos as seções <em>application</em> e <em>java</em>:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=kotlin><span class=nf>application</span> <span class=p>{</span>
    <span class=n>mainClass</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=s>&#34;br.dev.profbrunolopes.sample.MainKt&#34;</span><span class=p>)</span> <b class=conum>(1)</b>
<span class=p>}</span>

<span class=nf>java</span> <span class=p>{</span>
    <span class=n>sourceCompatibility</span> <span class=p>=</span> <span class=nc>JavaVersion</span><span class=p>.</span><span class=nf>toVersion</span><span class=p>(</span><span class=s>&#34;17&#34;</span><span class=p>)</span> <b class=conum>(2)</b>
<span class=p>}</span></code></pre></div></div><div class="colist arabic"><ol><li><p>Definindo a classe principal (<em>mainClass</em>) da sua aplicação. Esta é a classe que contém o método <code>main()</code> que será invocado quando a aplicação for iniciada.</p></li><li><p>Define a versão da linguagem <em>Java</em> para compilar o projeto. Aqui, está sendo definido a compatibilidade de origem para a versão <em>Java 17</em>, o que significa que o código <em>Java</em> escrito para este projeto deve aderir às características e regras da versão <em>17 do Java</em>.</p></li></ol></div></div><div class=sect2><h3 id=_bloco_6_micronaut>Bloco 6 - Micronaut</h3><div class=paragraph><p>O sexto e último bloco do <code>build.gradle.kts</code> temos a seção <em>micronaut</em> que é responsável por configurar as especificações do <em>Micronaut</em> no projeto:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=kotlin><span class=nf>micronaut</span> <span class=p>{</span>
    <span class=nf>version</span><span class=p>(</span><span class=s>&#34;4.1.2&#34;</span><span class=p>)</span> <b class=conum>(1)</b>
    <span class=nf>runtime</span><span class=p>(</span><span class=s>&#34;netty&#34;</span><span class=p>)</span> <b class=conum>(2)</b>
    <span class=nf>testRuntime</span><span class=p>(</span><span class=s>&#34;kotest5&#34;</span><span class=p>)</span> <b class=conum>(3)</b>
    <span class=nf>processing</span> <span class=p>{</span>
        <span class=nf>incremental</span><span class=p>(</span><span class=k>true</span><span class=p>)</span> <b class=conum>(4)</b>
        <span class=nf>annotations</span><span class=p>(</span><span class=s>&#34;br.dev.profbrunolopes.sample*&#34;</span><span class=p>)</span> <b class=conum>(5)</b>
    <span class=p>}</span>
    <span class=nf>aot</span> <span class=p>{</span>
        <span class=n>optimizeServiceLoading</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=k>false</span><span class=p>)</span> <b class=conum>(6)</b>
        <span class=n>convertYamlToJava</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=k>false</span><span class=p>)</span> <b class=conum>(7)</b>
        <span class=n>precomputeOperations</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=k>true</span><span class=p>)</span> <b class=conum>(8)</b>
        <span class=n>cacheEnvironment</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=k>true</span><span class=p>)</span> <b class=conum>(9)</b>
        <span class=n>optimizeClassLoading</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=k>true</span><span class=p>)</span> <b class=conum>(10)</b>
        <span class=n>deduceEnvironment</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=k>true</span><span class=p>)</span> <b class=conum>(11)</b>
        <span class=n>optimizeNetty</span><span class=p>.</span><span class=k>set</span><span class=p>(</span><span class=k>true</span><span class=p>)</span> <b class=conum>(12)</b>
    <span class=p>}</span>
<span class=p>}</span></code></pre></div></div><div class="colist arabic"><ol><li><p>Define a versão do <em>Micronaut</em> que será utilizada no projeto.</p></li><li><p>Define qual servidor de aplicação será utilizado para executar a aplicação <em>Micronaut</em>. <strong>Netty</strong> é um servidor <em>web</em> e <em>framework</em> de rede assíncrona. <em>Micronaut</em> suporta várias opções de <em>runtime</em>, e <strong>netty</strong> é uma das mais populares.</p></li><li><p>Define a biblioteca de teste que será utilizada em tempo de teste. <strong>Kotest</strong> é uma moderna biblioteca de testes para <em>Kotlin</em>.</p></li><li><p>Habilita o processamento incremental de anotações. Isso pode melhorar os tempos de compilação, pois só processa as alterações desde a última compilação, ao invés de processar tudo novamente.</p></li><li><p>Define quais anotações serão processadas. Aqui, você está especificando que todas as anotações no pacote <code>br.dev.profbrunolopes.sample</code> (e subpacotes) serão processadas.</p></li><li><p>Define se a otimização de carregamento de serviço deve ser habilitada.</p></li><li><p>Decide se as configurações em <em>YAML</em> devem ser convertidas para propriedades <em>Java</em> em tempo de compilação.</p></li><li><p>Habilita/desabilita a pré-computação de operações.</p></li><li><p>Define se o ambiente deve ser cacheado.</p></li><li><p>Habilita a otimização de carregamento de classes.</p></li><li><p>Define se o ambiente deve ser deduzido.</p></li><li><p>Habilita otimizações específicas para o <em>Netty</em>.</p></li></ol></div></div></div></div><div class=sect1><h2 id=_criando_um_controller>Criando um Controller</h2><div class=sectionbody><div class=paragraph><p>Nesse ponto temos configurado o <em>Micronaut</em> em nosso projeto, podemos criar um controlador no nosso projeto.</p></div><div class=paragraph><p>Vamos criar o pacote <code>br.dev.profbrunolopes.sample</code> e mover o arquivo <code>Main.kt</code> para dentro do mesmo. Em seguida, vamos criar a classe <code>HelloController</code> dentro do pacote <code>br.dev.profbrunolopes.sample</code> com o seguinte conteúdo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=kotlin><span class=k>package</span> <span class=nn>br.dev.profbrunolopes.sample</span>

<span class=k>import</span> <span class=nn>io.micronaut.http.annotation.Controller</span>
<span class=k>import</span> <span class=nn>io.micronaut.http.annotation.Get</span>

<span class=nd>@Controller</span><span class=p>(</span><span class=s>&#34;/hello&#34;</span><span class=p>)</span> <b class=conum>(1)</b>
<span class=kd>class</span> <span class=nc>HelloController</span> <span class=p>{</span>

    <span class=nd>@Get</span><span class=p>()</span> <b class=conum>(2)</b>
    <span class=k>fun</span> <span class=nf>hello</span><span class=p>():</span> <span class=nc>String</span> <span class=p>{</span>
        <span class=k>return</span> <span class=s>&#34;Hello world!&#34;</span> <b class=conum>(3)</b>
    <span class=p>}</span>

<span class=p>}</span></code></pre></div></div><div class="colist arabic"><ol><li><p>A anotação <code>@Controller</code> define a classe como um controlador mapeado para o caminho <strong>/hello</strong>.</p></li><li><p>A anotação <code>@Get</code> mapeia o método <strong>hello</strong> para todas as solicitações que usam um <code>HTTP GET</code>.</p></li><li><p>Uma <em>String</em> "Hello World" é retornada como resposta.</p></li></ol></div></div></div><div class=sect1><h2 id=_criando_o_ponto_de_inicialização_da_aplicação>Criando o ponto de inicialização da aplicação</h2><div class=sectionbody><div class=paragraph><p>Vamos editar o arquivo <code>Main.kt</code> com o seguinte conteúdo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=kotlin><span class=k>package</span> <span class=nn>br.dev.profbrunolopes.sample</span>

<span class=k>import</span> <span class=nn>io.micronaut.runtime.Micronaut</span>

<span class=k>fun</span> <span class=nf>main</span><span class=p>(</span><span class=n>args</span><span class=p>:</span> <span class=nc>Array</span><span class=p>&lt;</span><span class=nc>String</span><span class=p>&gt;)</span> <span class=p>{</span>
    <span class=nc>Micronaut</span><span class=p>.</span><span class=nf>run</span><span class=p>(*</span><span class=n>args</span><span class=p>)</span>
<span class=p>}</span></code></pre></div></div><div class=paragraph><p>No código acima estamos definindo a função <code>main</code>, a qual será invocada quando a aplicação for inicializada e executando o método estático <code>Micronaut.run(*args)</code> para inicializar o Micronaut.</p></div><div class=paragraph><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fas fa-info-circle fa-fw" aria-hidden=true></i>Operador de espalhamento<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><div class=paragraph><p>O operador de espalhamento (ou <code>spread operator</code>) é utilizado para desempacotar um <em>array</em>.</p></div><div class=paragraph><p>Quando você possui uma função que aceita <strong>varargs</strong> e você deseja passar um array para esta função, você deve utilizar o operador de espalhamento.</p></div></div></div></div></div></div></div><div class=sect1><h2 id=_criando_arquivos_de_configuração_de_log_e_da_aplicação>Criando arquivos de configuração de log e da aplicação</h2><div class=sectionbody><div class=paragraph><p>O <strong>Logback</strong> é um sistema de <em>logging</em> que pretende ser um sucessor ao veterano de guerra <em>log4j</em>. Para configurar corretamente o <strong>Logback</strong> vamos adicionar o arquivo <code>logback.xml</code> dentro da pasta resources com o seguinte conteúdo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=xml><span class=nt>&lt;configuration&gt;</span>

    <span class=nt>&lt;appender</span> <span class=na>name=</span><span class=s>&#34;STDOUT&#34;</span> <span class=na>class=</span><span class=s>&#34;ch.qos.logback.core.ConsoleAppender&#34;</span><span class=nt>&gt;</span>
        <span class=nt>&lt;encoder&gt;</span>
            <span class=nt>&lt;pattern&gt;</span>
                %cyan(%d{HH:mm:ss.SSS}) %gray([%thread]) %highlight(%-5level) %magenta(%logger{36}) - %msg%n
            <span class=nt>&lt;/pattern&gt;</span>
        <span class=nt>&lt;/encoder&gt;</span>
    <span class=nt>&lt;/appender&gt;</span>

    <span class=nt>&lt;root</span> <span class=na>level=</span><span class=s>&#34;info&#34;</span><span class=nt>&gt;</span>
        <span class=nt>&lt;appender-ref</span> <span class=na>ref=</span><span class=s>&#34;STDOUT&#34;</span> <span class=nt>/&gt;</span>
    <span class=nt>&lt;/root&gt;</span>

<span class=nt>&lt;/configuration&gt;</span></code></pre></div></div><div class=paragraph><p>O <em>Micronaut</em> fornece um mecanismo flexível que permite ler configurações da aplicação através de arquivos de configuração específicos. Não iremos entrar em detalhes das possibilidades de configuração (isto está fora do escopo desta postagem) mas iremos criar o arquivo <code>application.properties</code> com o seguinte conteúdo:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=text>micronaut.application.name=sample <b class=conum>(1)</b></code></pre></div></div><div class="colist arabic"><ol><li><p>Propriedade de configuração do <em>Micronaut</em> que define o nome da aplicação</p></li></ol></div></div></div><div class=sect1><h2 id=_iniciando_a_aplicação>Iniciando a aplicação</h2><div class=sectionbody><div class=paragraph><p>Após realizar todas as etapas anteriores, seu projeto deve apresentar a seguinte estrutura de pacote e de arquivos.</p></div><div class=imageblock><div class=content><img src=/img/configurando-micronaut-na-unha-03.png alt="Estrutura do projeto após a criação do pacote" width=controlador height="arquivo main"></div></div><div class=paragraph><p>Para inicializar a aplicação, basta abrir o arquivo <code>Main.kt</code> e clicar no simbolo de <em>play</em> que está no lado esquerdo da função <code>main</code> e, em seguida, clicar em <code>Run Main.kt</code>. A aplicação será inicializada e a seguinte saída será mostrada:</p></div><div class=imageblock><div class=content><img src=/img/configurando-micronaut-na-unha-04.png alt="Saída do terminal ao iniciar a aplicação Micronaut"></div></div></div></div><div class=sect1><h2 id=_conclusão>Conclusão</h2><div class=sectionbody><div class=paragraph><p>Nesta postagem foi mostrado como configurar uma aplicação <em>Micronaut</em> a partir de um projeto Kotlin criado via <em>IntelliJ IDEA CE</em>. A partir deste projeto base, pode-se evoluir para configurações mais complexas do <em>Micronaut</em> como, por exemplo, adicionar o suporte a persistência de dados, mecanismos de segurança e etc.</p></div></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Atualizado em 21/10/2023</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Compartilhe em Twitter" data-sharer=twitter data-url=http://brunolopesjn.dev.br/posts/20231021_configurando-micronaut-framework-na-unha/ data-title="Configurando Micronaut Framework na Unha" data-via=profbrunolopes data-hashtags=Kotlin,Micronaut><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Compartilhe em Linkedin" data-sharer=linkedin data-url=http://brunolopesjn.dev.br/posts/20231021_configurando-micronaut-framework-na-unha/><i class="fab fa-linkedin fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Compartilhe em WhatsApp" data-sharer=whatsapp data-url=http://brunolopesjn.dev.br/posts/20231021_configurando-micronaut-framework-na-unha/ data-title="Configurando Micronaut Framework na Unha" data-web><i class="fab fa-whatsapp fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Compartilhe em Hacker News" data-sharer=hackernews data-url=http://brunolopesjn.dev.br/posts/20231021_configurando-micronaut-framework-na-unha/ data-title="Configurando Micronaut Framework na Unha"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Compartilhe em 微博" data-sharer=weibo data-url=http://brunolopesjn.dev.br/posts/20231021_configurando-micronaut-framework-na-unha/ data-title="Configurando Micronaut Framework na Unha" data-image=/img/20231021-configurando-micronaut-framework-na-unha.svg><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/kotlin/>Kotlin</a>,&nbsp;<a href=/tags/micronaut/>Micronaut</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Voltar</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav></div></div><div id=comments><div id=disqus_thread class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://disqus.com/?ref_noscript>Disqus</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Possibilitado por <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.119.0">Hugo</a> | Tema - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Bruno Lopes</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Voltar ao topo"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="Ver comentários"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://https-profbrunolopes-dev-br.disqus.com.disqus.com/embed.js defer></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copiar para a área de transferência",maxShownLines:50},comment:{}}</script><script type=text/javascript src=/js/theme.min.b0df51c2c57145081cc73960e9aa780e6f5f56d06cf4ef0f96da8ce1619d1e12.js integrity="sha256-sN9RwsVxRQgcxzlg6ap4Dm9fVtBs9O8PltqM4WGdHhI="></script></body></html>